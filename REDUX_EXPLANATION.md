# üìö –û–±—ä—è—Å–Ω–µ–Ω–∏–µ Redux Toolkit –≤ –ø—Ä–æ–µ–∫—Ç–µ

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ Redux

```
hw8/scr/
‚îú‚îÄ‚îÄ store.js                    ‚Üê –ì–õ–ê–í–ù–û–ï –•–†–ê–ù–ò–õ–ò–©–ï (Store)
‚îÇ   ‚îî‚îÄ‚îÄ –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ reducers
‚îÇ
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îî‚îÄ‚îÄ items/
‚îÇ       ‚îî‚îÄ‚îÄ itemsSlice.js       ‚Üê –°–õ–ê–ô–° (–ª–æ–≥–∏–∫–∞ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤)
‚îÇ           ‚îú‚îÄ‚îÄ fetchItems      ‚Üê Action –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞
‚îÇ           ‚îú‚îÄ‚îÄ fetchItemById   ‚Üê Action –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
‚îÇ           ‚îî‚îÄ‚îÄ clearSelectedItem ‚Üê Action –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
‚îÇ
‚îî‚îÄ‚îÄ main.jsx                     ‚Üê Provider –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Redux Toolkit

### 1. **Store (–•—Ä–∞–Ω–∏–ª–∏—â–µ)** - `store.js`
```javascript
// –≠—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
export const store = configureStore({
  reducer: {
    items: itemsReducer,  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ reducers:
    // auth: authReducer,
    // cart: cartReducer,
  }
})
```

**–ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è:**
```javascript
{
  items: {
    list: [],              // –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
    selectedItem: null,    // –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä
    loadingList: false,    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞
    loadingItem: false,    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞
    errorList: null,       // –û—à–∏–±–∫–∞ —Å–ø–∏—Å–∫–∞
    errorItem: null,       // –û—à–∏–±–∫–∞ —Ç–æ–≤–∞—Ä–∞
    query: ""              // –ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
  }
}
```

### 2. **Slice (–°–ª–∞–π—Å)** - `itemsSlice.js`
–≠—Ç–æ –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
- **–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (initialState)
- **Actions** (–¥–µ–π—Å—Ç–≤–∏—è) - —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Reducers** (—Ä–µ–¥—å—é—Å–µ—Ä—ã) - –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```javascript
// –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ–º dispatch(fetchItems('phone'))
// Redux –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
// 1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç loadingList = true (pending)
// 2. –í—ã–∑—ã–≤–∞–µ—Ç API
// 3. –ï—Å–ª–∏ —É—Å–ø–µ—Ö ‚Üí loadingList = false, list = –¥–∞–Ω–Ω—ã–µ (fulfilled)
// 4. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí loadingList = false, errorList = –æ—à–∏–±–∫–∞ (rejected)
```

### 3. **Provider** - `main.jsx`
```javascript
<Provider store={store}>  ‚Üê –î–µ–ª–∞–µ—Ç store –¥–æ—Å—Ç—É–ø–Ω—ã–º –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
  <App />
</Provider>
```

### 4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**

**–ß—Ç–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```javascript
const { list, loadingList } = useSelector((state) => state.items)
// state.items - —ç—Ç–æ –Ω–∞—à itemsReducer –∏–∑ store.js
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```javascript
const dispatch = useDispatch()
dispatch(fetchItems('phone'))  // –í—ã–∑—ã–≤–∞–µ—Ç action –∏–∑ itemsSlice.js
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–û vs –ü–û–°–õ–ï

### ‚ùå –î–û Redux (hw7):
```javascript
// SomethingList.jsx
const [items, setItems] = useState([])        // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const [isLoading, setIsLoading] = useState(false)
const [error, setError] = useState(null)

// –õ–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
useEffect(() => {
  async function loadItems() {
    setIsLoading(true)
    const data = await itemsService.getAll(query)
    setItems(data.products)
    setIsLoading(false)
  }
  loadItems()
}, [query])
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- –°–ª–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### ‚úÖ –ü–û–°–õ–ï Redux (hw8):
```javascript
// SomethingList.jsx
const { list, loadingList, errorList } = useSelector((state) => state.items)
const dispatch = useDispatch()

// –ü—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º action
useEffect(() => {
  dispatch(fetchItems(query))  // –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ itemsSlice.js
}, [dispatch, query])
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–¥–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (store)
- ‚úÖ –õ–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (itemsSlice.js)
- ‚úÖ –õ—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (DevTools)

## üîç –ö–∞–∫ —É–≤–∏–¥–µ—Ç—å Redux –≤ –¥–µ–π—Å—Ç–≤–∏–∏

### –°–ø–æ—Å–æ–± 1: Redux DevTools (–õ–£–ß–®–ò–ô)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:**
   - Chrome: https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd
   - Firefox: https://addons.mozilla.org/firefox/addon/reduxdevtools/

2. **–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   npm run dev
   ```

3. **–û—Ç–∫—Ä–æ–π DevTools (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ "Redux"**

   –¢—ã —É–≤–∏–¥–∏—à—å:
   - üì¶ **State** - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ store
   - üé¨ **Actions** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è (fetchItems, fetchItemById)
   - ‚è±Ô∏è **Time Travel** - –º–æ–∂–Ω–æ "–æ—Ç–∫–∞—Ç–∏—Ç—å" —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–∑–∞–¥
   - üìä **Diff** - —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ action

### –°–ø–æ—Å–æ–± 2: –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–î–æ–±–∞–≤—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥:
```javascript
// –í SomethingList.jsx
useEffect(() => {
  console.log('Redux State:', store.getState())
}, [list])
```

### –°–ø–æ—Å–æ–± 3: React DevTools

1. –£—Å—Ç–∞–Ω–æ–≤–∏ "React Developer Tools"
2. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —É–≤–∏–¥–∏—à—å:
   - `useSelector` hooks
   - `useDispatch` hooks
   - Props –∏ state –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è

| –¢–µ—Ä–º–∏–Ω | –ß—Ç–æ —ç—Ç–æ | –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è |
|--------|---------|---------------|
| **Store** | –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è | `store.js` |
| **Slice** | –ú–æ–¥—É–ª—å —Å –ª–æ–≥–∏–∫–æ–π (reducer + actions) | `features/items/itemsSlice.js` |
| **Action** | –î–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è | `fetchItems`, `fetchItemById` |
| **Reducer** | –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –í–Ω—É—Ç—Ä–∏ `itemsSlice.js` |
| **Dispatch** | –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–∑–æ–≤–∞ action | `useDispatch()` hook |
| **Selector** | –§—É–Ω–∫—Ü–∏—è –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è | `useSelector()` hook |
| **Provider** | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ store | `main.jsx` |

## üöÄ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç: dispatch(fetchItems('phone'))
                    ‚Üì
2. Redux –≤—ã–∑—ã–≤–∞–µ—Ç: itemsSlice.js ‚Üí fetchItems thunk
                    ‚Üì
3. Thunk –¥–µ–ª–∞–µ—Ç: itemsService.getAll('phone')
                    ‚Üì
4. Redux –æ–±–Ω–æ–≤–ª—è–µ—Ç: state.items.loadingList = true (pending)
                    ‚Üì
5. API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
                    ‚Üì
6. Redux –æ–±–Ω–æ–≤–ª—è–µ—Ç: state.items.list = –¥–∞–Ω–Ω—ã–µ, loadingList = false (fulfilled)
                    ‚Üì
7. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è (useSelector –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è)
```

## üí° –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

**–ë–µ–∑ Redux:**
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –î–∞–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è
- –°–ª–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –∫–æ–¥—É

**–° Redux:**
- ‚úÖ –û–¥–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –¥–µ–ª–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (DevTools)
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

